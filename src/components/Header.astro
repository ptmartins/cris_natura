---
import { Image } from 'astro:assets';
import Logo from '../images/logo.svg';

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---

<header class="header">
    <div class="innerWrapper innerWrapper--header">
        <div class="logotype">
            <a href="/" class="logo">
                <Image src={ Logo } alt="Luisa Gonçalves" width="500" class="logo__image"/>
            </a>
            <div class="txt">
                <h4>Luisa Gonçalves</h4>
                <p>Naturopata</p>
            </div>
        </div>

        <nav class="nav">
            <a href="/" class={`nav__link ${currentPath === '' ? 'active' : ''}`}>Home</a>
            <a href="/#contacts" class={`nav__link ${currentPath === '#contacts' ? 'active' : ''}`}>Contacts</a>
            <a href="/blog" class={`nav__link ${currentPath === 'blog' ? 'active' : ''}`}>Blog</a>
        </nav>

        <button class="btn btn--main">Marcações</button>
    </div>
</header>

<style lang="less">

    .header {
        padding: 1.5rem; 

        .btn--main {
            align-self: center;    
        }
    }

    .innerWrapper--header {
        display: flex;
        gap: 3rem;
        justify-content: space-between;
    }

    .logotype {
        align-items: center;
        display: flex;
        gap: 1.5rem;

        .txt {
            font-style: italic;
            
            h4 {
                font-size: 2.7rem;
                margin-block-end: .1875rem;
            }

            p {
                font-size: 1.3rem;
                opacity: .8;
            }
        }
    }

    .logo {
        height: 160px;
        width: 160px;

        &::after {
            display: none;
        }
    }

    .logo__image {
        height: 100%;
        object-fit: contain;
        width: 100%;
    }

    .nav {
        display: none;
    }

    .nav__link {
        &::after {
            display: none;
        }

        &:hover,
        &.active {
            &::after {
                display: block;
                border-top: 4px solid var(--font-color)
            }
        }

        &.active {
            pointer-events: none;
        }
    }


    @media only screen and (min-width: 768px) {
    
        .nav {
            align-items: center;
            display: none;
            display: flex;
            font-size: 1.6rem;
            gap: 1.5rem;
            margin-inline-start: auto;
        }

    }

</style>